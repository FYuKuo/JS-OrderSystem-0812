<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="content">
        <div class="menu_btn">
            <i class="fa-solid fa-bars"></i>
        </div>
        <nav class="left">
            <div class="logo">

                <i class="fa-solid fa-burger"></i>
                <span>Happy Day</span>

            </div>

            <div class="listGroup">
                <div class="list">Home</div>
                <div class="list active">Hamburger</div>
                <div class="list">Pizza</div>
                <div class="list">Pasta</div>
                <div class="list">Drink</div>
            </div>
        </nav>

        <div class="center">
            <div class="productTitle">
                Hamburger
            </div>

            <div class="productGroup">

                <div class="product" data-id="1">
                    <div class="product_img">
                        <img src="https://images.unsplash.com/photo-1520073201527-6b044ba2ca9f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=712&q=80" alt="">
                    </div>

                    <div class="product_text_group">
                        <div class="product_text_hd">
                            <div class="product_text_title">
                                Cute burger
                            </div>
                            <div class="product_text_price">
                                $<span>100</span>    
                            </div>
                        </div>
                        <div class="product_text_content">
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi optio eligendi aspernatur, temporibus laboriosam, cumque sint.
                        </div>
                        <div class="product_text_icon">
                            <span><i class="fa-solid fa-fish"></i></span>
                            <span><i class="fa-solid fa-leaf"></i></span>
                            <span><i class="fa-solid fa-pepper-hot"></i></span>
                        </div>

                        <div class="product_text_btn">
                            <div class="btu_group">
                                <div class="productBtn addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                <div class="orderNum">0</div>
                                <div class="productBtn reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                            </div>
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>

                    </div>

                </div>

                <div class="product" data-id="2">
                    <div class="product_img">
                        <img src="https://images.unsplash.com/photo-1551615593-ef5fe247e8f7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NDZ8fGhhbWJ1cmdlcnxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60" alt="">
                    </div>

                    <div class="product_text_group">
                        <div class="product_text_hd">
                            <div class="product_text_title">
                                Happy burger
                            </div>
                            <div class="product_text_price">
                                $<span>150</span>    
                            </div>
                        </div>
                        <div class="product_text_content">
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi optio eligendi aspernatur, temporibus laboriosam, cumque sint.
                        </div>
                        <div class="product_text_icon">
                            <span><i class="fa-solid fa-bacon"></i></span>
                            <span><i class="fa-solid fa-leaf"></i></span>
                        </div>

                        <div class="product_text_btn">
                            <div class="btu_group">
                                <div class="productBtn addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                <div class="orderNum">0</div>
                                <div class="productBtn reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                            </div>
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>

                    </div>

                </div>

                <div class="product" data-id="3">
                    <div class="product_img">
                        <img src="https://images.unsplash.com/photo-1585238341710-4d3ff484184d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzV8fGhhbWJ1cmdlcnxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60" alt="">
                    </div>

                    <div class="product_text_group">
                        <div class="product_text_hd">
                            <div class="product_text_title">
                                Chill burger
                            </div>
                            <div class="product_text_price">
                                $<span>180</span>    
                            </div>
                        </div>
                        <div class="product_text_content">
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi optio eligendi aspernatur, temporibus laboriosam, cumque sint.
                        </div>
                        <div class="product_text_icon">
                            <span><i class="fa-solid fa-bacon"></i></span>
                            <span><i class="fa-solid fa-leaf"></i></span>
                        </div>

                        <div class="product_text_btn">
                            <div class="btu_group">
                                <div class="productBtn addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                <div class="orderNum">0</div>
                                <div class="productBtn reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                            </div>
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>

                    </div>

                </div>

                <div class="product" data-id="4">
                    <div class="product_img">
                        <img src="https://images.unsplash.com/photo-1606755962773-d324e0a13086?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MzB8fGhhbWJ1cmdlcnxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60" alt="">
                    </div>

                    <div class="product_text_group">
                        <div class="product_text_hd">
                            <div class="product_text_title">
                                Sker burger
                            </div>
                            <div class="product_text_price">
                                $<span>190</span>    
                            </div>
                        </div>
                        <div class="product_text_content">
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi optio eligendi aspernatur, temporibus laboriosam, cumque sint.
                        </div>
                        <div class="product_text_icon">
                            <span><i class="fa-solid fa-bacon"></i></span>
                            <span><i class="fa-solid fa-pepper-hot"></i></span>
                        </div>

                        <div class="product_text_btn">
                            <div class="btu_group">
                                <div class="productBtn addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                <div class="orderNum">0</div>
                                <div class="productBtn reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                            </div>
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>

                    </div>

                </div>

                <div class="product" data-id="5">
                    <div class="product_img">
                        <img src="https://images.unsplash.com/photo-1610970878459-a0e464d7592b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTV8fGhhbWJ1cmdlcnxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60" alt="">
                    </div>

                    <div class="product_text_group">
                        <div class="product_text_hd">
                            <div class="product_text_title">
                                My burger
                            </div>
                            <div class="product_text_price">
                                $<span>200</span>    
                            </div>
                        </div>
                        <div class="product_text_content">
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sequi optio eligendi aspernatur, temporibus laboriosam, cumque sint.
                        </div>
                        <div class="product_text_icon">
                            <span><i class="fa-solid fa-bacon"></i></span>
                            <span><i class="fa-solid fa-leaf"></i></span>
                            <span><i class="fa-solid fa-pepper-hot"></i></span>
                        </div>

                        <div class="product_text_btn">
                            <div class="btu_group">
                                <div class="productBtn addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                <div class="orderNum">0</div>
                                <div class="productBtn reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                            </div>
                            <i class="fa-solid fa-cart-shopping"></i>
                        </div>

                    </div>

                </div>

                <br>
                <br>
                <br>
            </div>
        </div>

        <div class="cart_btn">
            <i class="fa-solid fa-cart-shopping"></i>
        </div>
        <div class="right">
            <div class="user_group">
                <div class="user_name">
                    Fang Yu Kuo
                </div>
                <div class="user_btn">
                    <i class="fa-solid fa-user"></i>
                </div>
            </div>

            <div class="order_group">

                <div class="order_title">
                    My Order
                </div>

                <div class="myOrder">
                    <p style="color: grey;">
                        Haven't ordered yet
                    </p>

                </div>

                <div class="order_sum">
                    <div class="order_sum_name">Total</div>
                    
                    <div class="order_sum_num">$<span>0</span></div>
                </div>

                <div class="order_btn">
                    <button type="button">CheckOut</button>
                </div>

            </div>


        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>

    <script>
        function Total() {
            
            var originNum = new Array();
            $('.orderNum').each((key,val)=>{
                originNum.push($(val).text());
            })
    
            var price = new Array();
            $('.product_text_price > span').each((key,val)=>{
                price.push($(val).text());
            })
    
            let total = 0;
    
            originNum.forEach((element,key) => {
                
                total += element*price[key];
    
            });
            
    
            console.log(total);
    
            $('.order_sum_num > span').text(total);
        }


        // 增加的按鈕
        $('.btu_group').on('click','.addBtn',function(){

            let num = Number($(this).next().text());

            let product_id = $(this).parents('.product').data('id');
            let product_text_title = $(this).parents('.product').find('.product_text_title').text();
            let product_text_content = $(this).parents('.product').find('.product_text_content').text().split('.')[0];
            let product_text_price = $(this).parents('.product').find('.product_text_price').children('span').text();
            let product_img = $(this).parents('.product').find('.product_img').children().attr('src');

            // 選項加一
            num += 1;

            // 寫進顯示數字區
            $(this).next().text(num);

            let id_num = new Array();

            // 抓取購物車中的商品id放進陣列
            $('.myOrder').find('.order_product').each(function(key,val){
                id_num.push($(val).data('id'));
            })

            // 如果購物車還沒有這筆商品
            if(id_num.includes(product_id) != true){

                let order_list = '';
    
                order_list += `<div class="order_product" data-id='${product_id}'>
                            <div class="order_img">
                                <img src="${product_img}" alt="">
                            </div>
                        
                            <div class="order_text_group">
                                <div class="order_text_hd">
                                    <div class="order_text_title">
                                        ${product_text_title}
                                    </div>
                                    <div class="order_text_price">
                                        $<span>${product_text_price}</span>    
                                    </div>
                                </div>
                                <div class="order_text_content">
                                    ${product_text_content}
                                </div>
                        
                                <div class="order_text_btn">
                                    <div class="order_btu_group">
                                        <div class="order_Btn order_addBtn"><button type="button"><i class="fa-solid fa-plus"></i></button></div>
                                        <div class="NeworderNum">${num}</div>
                                        <div class="order_Btn order_reduceBtn"><button type="button"><i class="fa-solid fa-minus"></i></button></div>
                                    </div>
                                    <div class="delBtn">
                                        <i class="fa-solid fa-trash"></i>
                                    </div>
                                </div>
                        
                            </div>
                        
                        </div>`
            
                // 刪掉本來裡面的提示訊息
                $('.myOrder').children('p').fadeOut();
                // 插入我要顯示的內容
                $('.myOrder').append(order_list);
            }else{
                // 如果有這筆商品了

                // 更改顯示數量
                $('.myOrder').children(`.order_product[data-id='${product_id}']`).find('.NeworderNum').text(num);
                
            }

            Total();
        })

        // 減少的按鈕
        $('.btu_group').on('click','.reduceBtn',function(){
            let product_id = $(this).parents('.product').data('id');

            let num = Number($(this).prev().text());


            let id_num = new Array();

            // 抓取購物車中的商品id放進陣列
            $('.myOrder').find('.order_product').each(function(key,val){
                id_num.push($(val).data('id'));
            })

            if(num > 0){

                num -= 1;
                $(this).prev().text(num)


            // 如果購物車還沒有這筆商品
            if(id_num.includes(product_id) == true){

                $('.myOrder').children(`.order_product[data-id='${product_id}']`).find('.NeworderNum').text(num);
            }

            }
            
            if(num <= 0){
                $('.myOrder').children(`.order_product[data-id='${product_id}']`).remove();

                if($('.myOrder').children('.order_product').length == 0){
                    $('.myOrder').children('p').fadeIn();
                }
            }
            
            Total();

        })
    
        // 購物車的增加按鈕
        $('.myOrder').on('click','.order_addBtn',function(){

            let num = Number($(this).next().text());

            // 選項加一
            num += 1;

            // 寫進顯示數字區
            $(this).next().text(num);

            let product_id = $(this).parents('.order_product').data('id');

            // 更改顯示數量
            $('.productGroup').children(`.product[data-id='${product_id}']`).find('.orderNum').text(num);

            Total();

        })

        // 購物車的減少按鈕
        $('.myOrder').on('click','.order_reduceBtn',function(){

            let product_id = $(this).parents('.order_product').data('id');

            let num = Number($(this).prev().text());

            if(num > 0){

            num -= 1;
            $(this).prev().text(num)

            // 更改顯示數量
            $('.productGroup').children(`.product[data-id='${product_id}']`).find('.orderNum').text(num);

            }

            if(num == 0){
                $(this).parents('.order_product').remove();

                if($('.myOrder').children().length == 1){

                    $('.myOrder').children('p').fadeIn();
                }

            }

            Total();

        })

        // 購物車的刪除按鈕
        $('.myOrder').on('click','.delBtn',function(){
            let product_id = $(this).parents('.order_product').data('id');

            $(this).parents('.order_product').remove();

            $('.productGroup').children(`.product[data-id='${product_id}']`).find('.orderNum').text('0');

            if($('.myOrder').children().length == 1){

            $('.myOrder').children('p').fadeIn();
            }

            Total();

        })

        $('.menu_btn i').on('click',function(){
            $(this).parent().hide();
            $(this).parent().next().show();
            $('.right').hide();
            $('.cart_btn').show();
            $(this).parent().next().addClass('nowLeft');
            $(this).parent().addClass('hide_menu_btn');

        })

        $('.center,.right').on('click',function(){
            $('.hide_menu_btn').show();
            $('.nowLeft').hide();
            $('.left').removeClass('nowLeft');
            $('.menu_btn').removeClass('hide_menu_btn');

        })

        $('.cart_btn i').on('click',function(){
            $(this).parent().hide();
            $(this).parent().next().show();
            $('.left').hide();
            $('.menu_btn').show();
            $(this).parent().next().addClass('nowRight');
            $(this).parent().addClass('hide_cart_btn');
        })

        $('.center,.left').on('click',function(){
            $('.hide_cart_btn').show();
            $('.nowRight').hide();
            $('.right').removeClass('nowRight');
            $('.cart_btn').removeClass('hide_cart_btn');
        })
    

    </script>
</body>





</html>